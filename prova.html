<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Campionato di Basket ‚Äì Classifica & Roster</title>
  <meta name="description" content="Classifica campionato di basket con roster e statistiche per squadra." />
  <style>
    :root{
      --bg:#0f1220;        /* sfondo scuro elegante */
      --panel:#151935;     /* pannelli */
      --panel-2:#1b2045;   /* pannelli secondari */
      --text:#eaf0ff;      /* testo principale */
      --muted:#aab3d9;     /* testo secondario */
      --accent:#67e8f9;    /* ciano brillante */
      --good:#38bdf8;      /* blu per numeri positivi */
      --bad:#f87171;       /* rosso per numeri negativi */
      --shadow:0 10px 25px rgba(0,0,0,.35);
      --radius:18px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      background:radial-gradient(1200px 600px at 10% -10%, #1f2659 0%, transparent 60%),
                 radial-gradient(1000px 600px at 100% 0%, #0a5b73 0%, transparent 50%),
                 var(--bg);
      color:var(--text);
      -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
    }

    header{
      position:sticky; top:0; z-index:10;
      backdrop-filter:saturate(140%) blur(8px);
      background:linear-gradient(180deg, rgba(10,10,22,.85), rgba(10,10,22,.5));
      border-bottom:1px solid rgba(255,255,255,.08);
    }
    .wrap{max-width:1200px; margin:0 auto; padding:18px 18px 0}
    .brand{display:flex; align-items:center; gap:14px}
    .badge{display:inline-flex; align-items:center; justify-content:center; width:38px; height:38px; border-radius:12px; background:linear-gradient(135deg, #22d3ee, #818cf8); box-shadow:var(--shadow); font-weight:800; color:#0b1025}
    h1{font-size:clamp(20px, 3.2vw, 32px); margin:0}
    .sub{color:var(--muted); margin-top:6px}

    .toolbar{display:flex; flex-wrap:wrap; gap:10px; margin:14px 0 20px}
    .chip{background:var(--panel); border:1px solid rgba(255,255,255,.08); padding:10px 12px; border-radius:999px; box-shadow:var(--shadow)}
    .chip input{all:unset; color:var(--text); width:220px}
    .chip .hint{color:var(--muted)}

    .card{background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02)); border:1px solid rgba(255,255,255,.09); border-radius:var(--radius); box-shadow:var(--shadow)}

    table{width:100%; border-collapse:separate; border-spacing:0}
    thead th{position:sticky; top:84px; background:rgba(8,12,28,.9); backdrop-filter:blur(8px); border-bottom:1px solid rgba(255,255,255,.08); text-align:left; font-size:13px; color:var(--muted); padding:12px 14px}
    tbody td{padding:14px; border-bottom:1px solid rgba(255,255,255,.06)}
    tbody tr{transition:transform .06s ease, background .2s ease}
    tbody tr:hover{background:rgba(255,255,255,.04)}
    tbody tr:active{transform:scale(.997)}
    .teamCell{display:flex; align-items:center; gap:12px}
    .logo{width:28px; height:28px; border-radius:8px; display:grid; place-items:center; background:var(--panel); font-size:16px}
    .rank{width:2ch; text-align:right; color:var(--muted)}

    .pill{padding:.25rem .6rem; border-radius:999px; border:1px solid rgba(255,255,255,.12); font-size:12px; color:var(--muted)}
    .positive{color:var(--good)}
    .negative{color:var(--bad)}

    .clickable{cursor:pointer}

    /* Drawer laterale */
    .drawer{position:fixed; inset:0; display:none}
    .drawer.open{display:block}
    .drawer .backdrop{position:absolute; inset:0; background:rgba(0,0,0,.5)}
    .drawer .panel{
      position:absolute; right:0; top:0; height:100%; width:min(560px, 100%);
      background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.03));
      border-left:1px solid rgba(255,255,255,.12);
      box-shadow:var(--shadow);
      display:flex; flex-direction:column; gap:0;
    }
    .drawer header{position:sticky; top:0; background:rgba(10,10,22,.95); border-bottom:1px solid rgba(255,255,255,.08)}
    .drawer .panelHead{display:flex; align-items:center; justify-content:space-between; gap:12px; padding:16px 18px}
    .drawer .teamMeta{display:flex; align-items:center; gap:12px}
    .drawer .teamMeta .logo{width:40px; height:40px; font-size:20px}
    .drawer .close{background:none; border:1px solid rgba(255,255,255,.2); color:var(--text); border-radius:12px; padding:8px 10px; cursor:pointer}

    .panelBody{padding:14px 18px 22px; overflow:auto}
    .grid{display:grid; grid-template-columns:repeat(3, minmax(0,1fr)); gap:10px}
    .stat{background:var(--panel); border:1px solid rgba(255,255,255,.08); border-radius:14px; padding:12px}
    .stat .label{font-size:12px; color:var(--muted)}
    .stat .value{font-size:20px; font-weight:700}

    .roster{margin-top:16px}
    .roster table thead th{top:auto; background:transparent}
    .roster .pos{font-weight:700; font-size:12px; color:var(--muted)}

    footer{padding:26px 18px 40px; color:var(--muted)}

    @media (max-width: 860px){
      .grid{grid-template-columns:repeat(2, minmax(0,1fr))}
    }
    @media (max-width: 560px){
      .grid{grid-template-columns:1fr}
      thead th{top:120px}
    }
  </style>
</head>
<body>
  <header>
    <div class="wrap">
      <div class="brand">
        <div class="badge">BB</div>
        <div>
          <h1 id="leagueTitle">Campionato di Basket ‚Äì Classifica</h1>
          <div class="sub">Clicca una squadra per vedere roster e statistiche dettagliate.</div>
        </div>
      </div>
      <div class="toolbar">
        <div class="chip"><span class="hint">üîé</span>&nbsp;<input id="search" placeholder="Cerca squadra..." /></div>
        <div class="chip" id="sortInfo">Ordine: Win% ‚Üì</div>
        <div class="chip" id="teamCount"></div>
      </div>
    </div>
  </header>

  <main class="wrap">
    <div class="card">
      <table id="table">
        <thead>
          <tr>
            <th>#</th>
            <th>Squadra</th>
            <th>V</th>
            <th>P</th>
            <th>Win%</th>
            <th>PF</th>
            <th>PS</th>
            <th>Diff</th>
            <th>Striscia</th>
          </tr>
        </thead>
        <tbody id="tbody"></tbody>
      </table>
    </div>

    <footer>
      <small>Demo indipendente, dati fittizi. Sostituisci l'oggetto <code>LEAGUE_DATA</code> con i tuoi dati reali.</small>
    </footer>
  </main>

  <!-- Drawer laterale -->
  <div class="drawer" id="drawer" aria-hidden="true">
    <div class="backdrop" id="backdrop"></div>
    <div class="panel">
      <header>
        <div class="panelHead">
          <div class="teamMeta">
            <div class="logo" id="dLogo">üèÄ</div>
            <div>
              <div style="font-weight:800; font-size:18px" id="dName">Squadra</div>
              <div class="sub" id="dRecord">0-0</div>
            </div>
          </div>
          <button class="close" id="btnClose">Chiudi ‚úï</button>
        </div>
      </header>
      <div class="panelBody">
        <div class="grid">
          <div class="stat">
            <div class="label">Win%</div>
            <div class="value" id="dWinPct">‚Äî</div>
          </div>
          <div class="stat">
            <div class="label">Differenza Punti</div>
            <div class="value" id="dDiff">‚Äî</div>
          </div>
          <div class="stat">
            <div class="label">Punti a Partita</div>
            <div class="value" id="dPpg">‚Äî</div>
          </div>
        </div>

        <div class="roster">
          <h3 style="margin:18px 0 6px">Roster</h3>
          <div class="card">
            <table>
              <thead>
                <tr>
                  <th>Giocatore</th>
                  <th class="pos">Ruolo</th>
                  <th>G</th>
                  <th>MIN</th>
                  <th>PTS</th>
                  <th>REB</th>
                  <th>AST</th>
                  <th>STL</th>
                  <th>BLK</th>
                  <th>FG%</th>
                  <th>3P%</th>
                </tr>
              </thead>
              <tbody id="rosterBody"></tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // =========================
    // DATI DI ESEMPIO (Sostituisci con i tuoi!)
    // =========================
    const LEAGUE_DATA = {
      name: "Campionato Basket Demo 2025",
      teams: [
        {
          id:"MIL", name:"Milano Meteors", logo:"üå†", wins:22, losses:8, pointsFor:2450, pointsAgainst:2280, streak:"W3",
          roster:[
            {name:"Luca Bianchi", pos:"PG", g:30, min:29.8, pts:14.2, reb:3.1, ast:7.4, stl:1.6, blk:0.2, fg:46.1, tp:37.5},
            {name:"Marco Verdi", pos:"SG", g:28, min:27.3, pts:16.8, reb:4.2, ast:3.1, stl:1.1, blk:0.3, fg:44.9, tp:39.2},
            {name:"Andrea Rossi", pos:"SF", g:30, min:31.1, pts:18.3, reb:6.0, ast:2.8, stl:1.0, blk:0.6, fg:47.8, tp:35.0},
            {name:"Pietro Neri", pos:"PF", g:30, min:28.0, pts:12.4, reb:7.9, ast:2.1, stl:0.8, blk:0.9, fg:51.4, tp:31.2},
            {name:"Davide Gatti", pos:"C",  g:29, min:26.5, pts:10.9, reb:9.8, ast:1.6, stl:0.5, blk:1.5, fg:56.0, tp:0.0}
          ]
        },
        {
          id:"ROM", name:"Roma Rooks", logo:"üõ°Ô∏è", wins:20, losses:10, pointsFor:2390, pointsAgainst:2325, streak:"L1",
          roster:[
            {name:"Sergio Conte", pos:"PG", g:30, min:30.1, pts:13.6, reb:3.5, ast:6.9, stl:1.9, blk:0.1, fg:45.4, tp:36.7},
            {name:"Edoardo Sanna", pos:"SG", g:30, min:28.4, pts:17.1, reb:3.7, ast:2.9, stl:0.9, blk:0.2, fg:43.2, tp:38.1},
            {name:"Giacomo Serra", pos:"SF", g:29, min:27.7, pts:12.9, reb:5.4, ast:2.4, stl:0.8, blk:0.6, fg:48.2, tp:34.5},
            {name:"Matteo Pini", pos:"PF", g:30, min:29.5, pts:11.7, reb:8.2, ast:2.2, stl:0.7, blk:1.0, fg:52.3, tp:29.4},
            {name:"Tommaso Fabbri", pos:"C", g:30, min:25.9, pts:9.3,  reb:10.5, ast:1.5, stl:0.4, blk:1.7, fg:57.8, tp:0.0}
          ]
        },
        {
          id:"TOR", name:"Torino Thunder", logo:"‚ö°", wins:18, losses:12, pointsFor:2360, pointsAgainst:2348, streak:"W1",
          roster:[
            {name:"Alessio Marra", pos:"PG", g:30, min:27.8, pts:11.9, reb:3.2, ast:6.3, stl:1.4, blk:0.1, fg:44.0, tp:35.2},
            {name:"Riccardo Fedele", pos:"SG", g:30, min:29.2, pts:15.6, reb:4.0, ast:2.6, stl:1.0, blk:0.3, fg:45.1, tp:37.9},
            {name:"Nicol√≤ Guerra", pos:"SF", g:30, min:28.6, pts:13.2, reb:6.1, ast:2.2, stl:0.9, blk:0.5, fg:46.7, tp:33.3},
            {name:"Simone Valli", pos:"PF", g:29, min:26.9, pts:10.8, reb:7.4, ast:2.0, stl:0.6, blk:0.8, fg:50.2, tp:30.7},
            {name:"Goran Petrovic", pos:"C", g:28, min:24.7, pts:9.7,  reb:8.9, ast:1.3, stl:0.5, blk:1.3, fg:55.0, tp:0.0}
          ]
        },
        {
          id:"NAP", name:"Napoli Navigators", logo:"‚õµ", wins:16, losses:14, pointsFor:2308, pointsAgainst:2322, streak:"W2",
          roster:[
            {name:"Raffaele Vitale", pos:"PG", g:30, min:28.1, pts:12.5, reb:3.0, ast:6.8, stl:1.2, blk:0.1, fg:44.8, tp:36.0},
            {name:"Francesco Lupo", pos:"SG", g:30, min:30.2, pts:17.4, reb:4.3, ast:2.7, stl:1.0, blk:0.3, fg:45.8, tp:38.4},
            {name:"Paolo Sarti", pos:"SF", g:30, min:27.4, pts:12.1, reb:5.8, ast:2.0, stl:0.7, blk:0.5, fg:47.0, tp:34.1},
            {name:"Michele Carli", pos:"PF", g:30, min:26.1, pts:10.2, reb:7.2, ast:1.9, stl:0.6, blk:0.7, fg:51.0, tp:31.0},
            {name:"Said Doumbia", pos:"C", g:30, min:24.9, pts:8.9,  reb:9.4, ast:1.2, stl:0.4, blk:1.1, fg:56.2, tp:0.0}
          ]
        },
        {
          id:"BO", name:"Bologna Bolts", logo:"üåÄ", wins:14, losses:16, pointsFor:2264, pointsAgainst:2299, streak:"L2",
          roster:[
            {name:"Giorgio D'Amico", pos:"PG", g:29, min:26.8, pts:10.7, reb:2.9, ast:6.0, stl:1.3, blk:0.1, fg:43.7, tp:34.0},
            {name:"Diego Corsi", pos:"SG", g:30, min:27.6, pts:14.9, reb:3.5, ast:2.5, stl:0.9, blk:0.2, fg:44.5, tp:36.5},
            {name:"Flavio Bruno", pos:"SF", g:28, min:26.1, pts:11.6, reb:5.6, ast:2.1, stl:0.7, blk:0.5, fg:46.0, tp:32.9},
            {name:"Leonardo Gigli", pos:"PF", g:30, min:25.7, pts:9.4,  reb:7.0, ast:1.8, stl:0.6, blk:0.7, fg:50.8, tp:30.0},
            {name:"Milan Kovac", pos:"C", g:27, min:23.5, pts:8.1,  reb:8.8, ast:1.1, stl:0.4, blk:1.0, fg:55.5, tp:0.0}
          ]
        },
        {
          id:"FI", name:"Firenze Flames", logo:"üî•", wins:12, losses:18, pointsFor:2230, pointsAgainst:2320, streak:"W1",
          roster:[
            {name:"Elia Forte", pos:"PG", g:30, min:27.0, pts:11.2, reb:3.1, ast:5.9, stl:1.4, blk:0.1, fg:44.2, tp:35.1},
            {name:"Mattia Gallo", pos:"SG", g:30, min:28.8, pts:13.5, reb:3.9, ast:2.3, stl:0.8, blk:0.2, fg:43.8, tp:34.8},
            {name:"Lorenzo Riva", pos:"SF", g:29, min:27.2, pts:12.4, reb:5.2, ast:2.0, stl:0.7, blk:0.5, fg:46.5, tp:33.7},
            {name:"Stefano Polo", pos:"PF", g:30, min:25.4, pts:9.8,  reb:7.1, ast:1.7, stl:0.6, blk:0.6, fg:49.9, tp:29.8},
            {name:"Jonas Almeida", pos:"C", g:28, min:24.0, pts:8.4,  reb:8.6, ast:1.0, stl:0.4, blk:1.0, fg:54.7, tp:0.0}
          ]
        }
      ]
    };

    // =========================
    // Utility
    // =========================
    const fmt = n => new Intl.NumberFormat('it-IT', {maximumFractionDigits:1}).format(n);
    const pct = n => (n*100).toFixed(1) + '%';

    function computeDerived(team){
      const gp = team.wins + team.losses;
      const winPct = gp ? team.wins / gp : 0;
      const diff = team.pointsFor - team.pointsAgainst;
      const ppg = gp ? team.pointsFor / gp : 0;
      return { gp, winPct, diff, ppg };
    }

    function sortStandings(teams){
      return [...teams].sort((a,b)=>{
        const A = computeDerived(a), B = computeDerived(b);
        if(B.winPct !== A.winPct) return B.winPct - A.winPct; // win% desc
        if(B.diff !== A.diff) return B.diff - A.diff;         // diff desc
        return b.pointsFor - a.pointsFor;                     // PF desc
      });
    }

    // =========================
    // Rendering Classifica
    // =========================
    const tbody = document.getElementById('tbody');
    const searchInput = document.getElementById('search');
    const teamCount = document.getElementById('teamCount');
    const sortInfo = document.getElementById('sortInfo');
    const leagueTitle = document.getElementById('leagueTitle');

    function renderTable(){
      const q = (searchInput.value || '').trim().toLowerCase();
      const data = sortStandings(LEAGUE_DATA.teams).filter(t=>t.name.toLowerCase().includes(q));
      tbody.innerHTML = '';
      data.forEach((team, idx)=>{
        const {winPct, diff} = computeDerived(team);
        const tr = document.createElement('tr');
        tr.className = 'clickable';
        tr.dataset.teamId = team.id;
        tr.innerHTML = `
          <td class="rank">${idx+1}</td>
          <td>
            <div class="teamCell">
              <div class="logo">${team.logo || 'üèÄ'}</div>
              <div>
                <div style="font-weight:700">${team.name}</div>
                <div class="sub" style="font-size:12px">${team.wins}-${team.losses}</div>
              </div>
            </div>
          </td>
          <td>${team.wins}</td>
          <td>${team.losses}</td>
          <td>${pct(winPct)}</td>
          <td>${team.pointsFor}</td>
          <td>${team.pointsAgainst}</td>
          <td class="${diff>=0?'positive':'negative'}">${diff>0?'+':''}${diff}</td>
          <td><span class="pill">${team.streak}</span></td>
        `;
        tbody.appendChild(tr);
      });
      teamCount.textContent = `${data.length} squadre`;
      leagueTitle.textContent = LEAGUE_DATA.name + ' ‚Äì Classifica';
      sortInfo.textContent = 'Ordine: Win% ‚Üì (poi Diff, PF)';
    }

    searchInput.addEventListener('input', renderTable);

    // =========================
    // Drawer con Roster
    // =========================
    const drawer = document.getElementById('drawer');
    const backdrop = document.getElementById('backdrop');
    const btnClose = document.getElementById('btnClose');
    const dLogo = document.getElementById('dLogo');
    const dName = document.getElementById('dName');
    const dRecord = document.getElementById('dRecord');
    const dWinPct = document.getElementById('dWinPct');
    const dDiff = document.getElementById('dDiff');
    const dPpg = document.getElementById('dPpg');
    const rosterBody = document.getElementById('rosterBody');

    function openDrawer(team){
      const {gp, winPct, diff, ppg} = computeDerived(team);
      dLogo.textContent = team.logo || 'üèÄ';
      dName.textContent = team.name;
      dRecord.textContent = `${team.wins}-${team.losses} ‚Ä¢ ${gp} G`;
      dWinPct.textContent = pct(winPct);
      dDiff.textContent = `${diff>0?'+':''}${diff}`;
      dDiff.className = 'value ' + (diff>=0? 'positive':'negative');
      dPpg.textContent = fmt(ppg);

      rosterBody.innerHTML = '';
      team.roster.forEach(p=>{
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td><strong>${p.name}</strong></td>
          <td class="pos">${p.pos}</td>
          <td>${p.g}</td>
          <td>${p.min.toFixed(1)}</td>
          <td>${p.pts.toFixed(1)}</td>
          <td>${p.reb.toFixed(1)}</td>
          <td>${p.ast.toFixed(1)}</td>
          <td>${p.stl.toFixed(1)}</td>
          <td>${p.blk.toFixed(1)}</td>
          <td>${p.fg.toFixed(1)}</td>
          <td>${p.tp.toFixed(1)}</td>
        `;
        rosterBody.appendChild(tr);
      });

      drawer.classList.add('open');
      drawer.setAttribute('aria-hidden','false');
    }

    function closeDrawer(){
      drawer.classList.remove('open');
      drawer.setAttribute('aria-hidden','true');
    }

    backdrop.addEventListener('click', closeDrawer);
    btnClose.addEventListener('click', closeDrawer);
    document.addEventListener('keydown', (e)=>{ if(e.key==='Escape') closeDrawer(); });

    tbody.addEventListener('click', (e)=>{
      const tr = e.target.closest('tr');
      if(!tr) return;
      const teamId = tr.dataset.teamId;
      const team = LEAGUE_DATA.teams.find(t=>t.id===teamId);
      if(team) openDrawer(team);
    });

    // Inizializza
    renderTable();

    // =========================
    // Come personalizzare (rapido):
    // 1. Cambia titolo: LEAGUE_DATA.name
    // 2. Sostituisci array teams con squadre reali.
    // 3. Puoi aggiungere campi extra al roster e colonne qui sopra.
    // 4. Se vuoi mostrare loghi reali, usa URL immagini al posto delle emoji e sostituisci dLogo/tr con <img>.
    // =========================
  </script>
</body>
</html>
